requires Standard::Math;

namespace Standard::IO;

// declares are how you expose methods (i.e. 'public' modifier)
declares ReadByte(): i8;
declares ReadAllText(): string;
declares StreamPosition: i32;

FileReader
{
    // indicate what interfaces this type implements
    implements IStream, IBuffer;

    StreamPosition: i32 = 0;

    construct FileReader
    {
        StreamPosition = 1;
    }
}

ReadByte(reader: FileReader): i8
{
    throws IOException, BufferOverflowException;

    let read = reader.Buffer[reader.StreamPosition];
    reader.StreamPosition += 1;

    return read;
}

